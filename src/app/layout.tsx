'use client'

import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "./globals.css";
import 'bootstrap/dist/css/bootstrap.css'
import { useReducer } from "react";
//import { init } from "next/dist/compiled/webpack/webpack";
import {reducer} from '../redux/reducer'
import {init} from '../redux/init'
import {Provider} from  '../context/appCtx'
import { Header } from "@/components/Header";
import { Footer } from "@/components/Footer";
import { Login } from "@/components/Login";
import { Modal } from "@/components/shared/Modal";

import { Menu } from "@/components/Menu";
import { Loader } from "@/components/shared/Loader";
import { Toaster } from "@/components/shared/Toaster";
const inter = Inter({ subsets: ["latin"] });

/*export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};*/

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {

  const [state,dispatch] = useReducer(reducer,init)
  return (
    <html lang="en">
      <body className={inter.className}>

        <Provider value={{state,dispatch}}>
          <Header />
          {state?.isLoggedIn && <Menu />}
         
          {children}
          {/*state?.isLoggedIn?<Menu />:<Login />*/} 
          <Footer />
          {state?.isShowLoader && <Loader />}
          {state?.toaster?.isShowToaster && <Toaster /> }  
          {state?.modal?.isShowModal && <Modal />}
       
        </Provider>
        
 

      </body>
    </html>
  );
}
